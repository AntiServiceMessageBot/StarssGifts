import asyncio
from aiogram import Bot, Dispatcher, types
from aiogram.types import ReplyKeyboardMarkup, KeyboardButton
from aiogram.filters import CommandStart

# Замените 'YOUR_BOT_TOKEN' на токен вашего бота
API_TOKEN = '7739594735:AAENvoaOK01JNRl5CXfqzTzlXGLUun715Bk'

bot = Bot(token=API_TOKEN)
dp = Dispatcher()

# Создаем клавиатуру с кнопкой для отправки местоположения
keyboard = ReplyKeyboardMarkup(
    keyboard=[
        [KeyboardButton(text="Отправить местоположение", request_location=True)]
    ],
    resize_keyboard=True
)

@dp.message(CommandStart())
async def send_welcome(message: types.Message):
    await message.reply(
        "Привет! Нажмите кнопку ниже, чтобы отправить ваше местоположение.",
        reply_markup=keyboard
    )

@dp.message(lambda message: message.location is not None)
async def handle_location(message: types.Message):
    lat = message.location.latitude
    lon = message.location.longitude
    await message.reply(f"Спасибо! Ваши координаты: {lat}, {lon}")

async def main():
    await dp.start_polling(bot)

if __name__ == '__main__':
    asyncio.run(main())
